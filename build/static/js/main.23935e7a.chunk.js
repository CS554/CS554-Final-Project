(this["webpackJsonpreact-amplified"]=this["webpackJsonpreact-amplified"]||[]).push([[0],{218:function(e,t,n){},235:function(e,t){},237:function(e,t){},248:function(e,t){},250:function(e,t){},277:function(e,t){},279:function(e,t){},280:function(e,t){},285:function(e,t){},287:function(e,t){},306:function(e,t){},318:function(e,t){},321:function(e,t){},367:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(4),c=n.n(a),s=n(195),o=n.n(s),i=(n(218),n(60),n(28)),l=n(12),u=n(10),d=n.n(u),j=n(16),p=n(21),b=n.n(p);function h(e,t,n){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().createUserWithEmailAndPassword(t,n);case 2:b.a.auth().currentUser.updateProfile({displayName:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.a.auth.EmailAuthProvider.credential(t,n),e.next=3,b.a.auth().currentUser.reauthenticateWithCredential(a);case 3:return e.next=5,b.a.auth().currentUser.updatePassword(r);case 5:return e.next=7,N();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signInWithEmailAndPassword(t,n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,"google"===t?n=new b.a.auth.GoogleAuthProvider:"facebook"===t&&(n=new b.a.auth.FacebookAuthProvider),e.next=4,b.a.auth().signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().sendPasswordResetEmail(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){return Object(r.jsx)("button",{type:"button",id:"signout",onClick:N,children:"Sign Out"})},C=n(29),S=(n(222),p.initializeApp({apiKey:"AIzaSyA1alrwhA4k2pculbW0XsIN72Bfy6p21t8",authDomain:"takeahikeauth.firebaseapp.com",databaseURL:"https://takeahikeauth.firebaseio.com",projectId:"takeahikeauth",storageBucket:"takeahikeauth.appspot.com",messagingSenderId:"769260527597",appId:"1:769260527597:web:62c81629ef2452b3a651e4"})),A=c.a.createContext(),E=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(C.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(!0),l=Object(C.a)(i,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){S.auth().onAuthStateChanged((function(e){o(e),d(!1)}))}),[]),u?Object(r.jsx)("div",{children:"Loading...."}):Object(r.jsx)(A.Provider,{value:{currentUser:s},children:t})};var I=function(){var e=Object(a.useContext)(A).currentUser,t=Object(a.useState)(""),n=Object(C.a)(t,2),c=n[0],s=n[1];console.log(e);var o=function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=n.target.elements,a=r.currentPassword,c=r.newPasswordOne,o=r.newPasswordTwo,c.value===o.value){t.next=5;break}return s("New Passwords do not match, please try again"),t.abrupt("return",!1);case 5:return t.prev=5,t.next=8,f(e.email,a.value,c.value);case 8:alert("Password has been changed, you will now be logged out"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}();return"password"===e.providerData[0].providerId?Object(r.jsxs)("div",{children:[c&&Object(r.jsx)("h4",{className:"error",children:c}),Object(r.jsx)("h2",{children:"Change Password"}),Object(r.jsxs)("form",{onSubmit:o,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Current Password:",Object(r.jsx)("input",{className:"form-control",name:"currentPassword",id:"currentPassword",type:"password",placeholder:"Current Password",required:!0})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["New Password:",Object(r.jsx)("input",{className:"form-control",name:"newPasswordOne",id:"newPasswordOne",type:"password",placeholder:"Password",required:!0})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Confirm New Password:",Object(r.jsx)("input",{className:"form-control",name:"newPasswordTwo",id:"newPasswordTwo",type:"password",placeholder:"Confirm Password",required:!0})]})}),Object(r.jsx)("button",{type:"submit",children:"Change Password"})]}),Object(r.jsx)("br",{})]}):Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"You are signed in using a Social Media Provider, You cannot change your password"})})};var q=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Account Page"}),Object(r.jsx)(I,{}),Object(r.jsx)(k,{})]})},F=n(396),U=n(397),_=n(393),L=n(15),D=n.n(L),T={url:"https://api.maptiler.com/maps/outdoor/{z}/{x}/{y}.png?key=4DqvcmG8CJwZCdFAAFK7",attribution:'&copy; <a href="https://www.maptiler.com/">MapTiler</a> &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'},z=function(){var e=Object(a.useState)({loaded:!1,coordinates:{lat:"",lng:""}}),t=Object(C.a)(e,2),n=t[0],r=t[1],c=function(e){r({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},s=function(e){r({loaded:!0,error:{code:e.code,message:e.message}})};return Object(a.useEffect)((function(){"geolocation"in navigator||s({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(c,s)}),[]),n};n(224);delete D.a.Icon.Default.prototype._getIconUrl;var B=new D.a.Icon({iconUrl:n(225),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]}),K=function(){var e=Object(a.useState)({lat:0,lng:0}),t=Object(C.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(!1)),s=Object(C.a)(c,2),o=s[0],i=s[1],l=Object(a.useRef)();Object(a.useEffect)((function(){console.log(l),l&&i(!0)}),[l]);var u=z();console.log(u);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col text-center",children:[Object(r.jsx)("h2",{children:"Find your Location"}),Object(r.jsx)("p",{children:"Find Hiking trails near you!"}),Object(r.jsx)("div",{className:"col",children:Object(r.jsxs)(F.a,{ref:l,center:n,zoom:9,children:[Object(r.jsx)(U.a,{url:T.url,attribution:T.attribution}),u.loaded&&!u.error&&Object(r.jsx)(_.a,{icon:B,position:[u.coordinates.lat,u.coordinates.lng]})]})})]})}),Object(r.jsx)("div",{className:"row my-4",children:Object(r.jsx)("div",{className:"col d-flex justify-content-center",children:Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(u.loaded),console.log(u.error);var e=l.current,t=(void 0===e?{}:e).leafletElement;u.loaded&&!u.error?t.flyTo([u.coordinates.lat,u.coordinates.lng],9,{animate:!0}):alert(u.error)},disabled:!o,children:"Locate Me"})})})]})};var M=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"This is the Landing page"})})},W=function(){return Object(r.jsx)("nav",{className:"navigation",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/",activeClassName:"active",children:"Landing"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/home",activeClassName:"active",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/account",activeClassName:"active",children:"Account"})}),Object(r.jsx)("li",{children:Object(r.jsx)(k,{})})]})})},H=function(){return Object(r.jsx)("nav",{className:"navigation",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/",activeClassName:"active",children:"Landing"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/signup",activeClassName:"active",children:"Sign-up"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{exact:!0,to:"/signin",activeClassName:"active",children:"Sign-In"})})]})})},J=function(){var e=Object(a.useContext)(A).currentUser;return Object(r.jsx)("div",{children:e?Object(r.jsx)(W,{}):Object(r.jsx)(H,{})})},G=function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{onClick:function(){return e("google")},alt:"google signin",src:"/imgs/btn_google_signin.png"}),Object(r.jsx)("img",{onClick:function(){return e("facebook")},alt:"facebook signin",src:"/imgs/facebook_signin.png"})]})};var R=function(){var e=Object(a.useContext)(A).currentUser,t=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,r=n.email,a=n.password,e.prev=2,e.next=5,O(r.value,a.value);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(r.jsx)(l.a,{to:"/home"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Log in"}),Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Email:",Object(r.jsx)("input",{className:"form-control",name:"email",id:"email",type:"email",placeholder:"Email",required:!0})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Password:",Object(r.jsx)("input",{className:"form-control",name:"password",id:"password",type:"password",placeholder:"Password",required:!0})]})}),Object(r.jsx)("button",{type:"submit",children:"Log in"}),Object(r.jsx)("button",{className:"forgotPassword",onClick:function(e){e.preventDefault();var t=document.getElementById("email").value;t?(!function(e){y.apply(this,arguments)}(t),alert("Password reset email was sent")):alert("Please enter an email address below before you click the forgot password link")},children:"Forgot Password"})]}),Object(r.jsx)("br",{}),Object(r.jsx)(G,{})]})};var Y=function(){var e=Object(a.useContext)(A).currentUser,t=Object(a.useState)(""),n=Object(C.a)(t,2),c=n[0],s=n[1],o=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target.elements,r=n.displayName,a=n.email,c=n.passwordOne,o=n.passwordTwo,c.value===o.value){e.next=5;break}return s("Passwords do not match"),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,h(a.value,c.value,r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(r.jsx)(l.a,{to:"/home"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Sign up"}),c&&Object(r.jsx)("h4",{className:"error",children:c}),Object(r.jsxs)("form",{onSubmit:o,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Name:",Object(r.jsx)("input",{className:"form-control",required:!0,name:"displayName",type:"text",placeholder:"Name"})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Email:",Object(r.jsx)("input",{className:"form-control",required:!0,name:"email",type:"email",placeholder:"Email"})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Password:",Object(r.jsx)("input",{className:"form-control",id:"passwordOne",name:"passwordOne",type:"password",placeholder:"Password",required:!0})]})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("label",{children:["Confirm Password:",Object(r.jsx)("input",{className:"form-control",name:"passwordTwo",type:"password",placeholder:"Confirm Password",required:!0})]})}),Object(r.jsx)("button",{id:"submitButton",name:"submitButton",type:"submit",children:"Sign Up"})]}),Object(r.jsx)("br",{}),Object(r.jsx)(G,{})]})},Q=n(90),V=n(205),X=function(e){var t=e.component,n=Object(V.a)(e,["component"]),c=Object(a.useContext)(A).currentUser;return Object(r.jsx)(l.b,Object(Q.a)(Object(Q.a)({},n),{},{render:function(e){return c?Object(r.jsx)(t,Object(Q.a)({},e)):Object(r.jsx)(l.a,{to:"signin"})}}))};var Z=function(){return Object(r.jsx)(E,{children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)(J,{})})}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:M}),Object(r.jsx)(X,{path:"/home",component:K}),Object(r.jsx)(X,{path:"/account",component:q}),Object(r.jsx)(l.b,{path:"/signin",component:R}),Object(r.jsx)(l.b,{path:"/signup",component:Y})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ee={aws_project_region:"us-east-1",aws_appsync_graphqlEndpoint:"https://wfbixvhqcffwhceonnpjt4qeye.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-g5uktrjm5jhmhiz2vpdp7vmxi4"};n(196).default.configure(ee),o.a.render(Object(r.jsxs)(c.a.StrictMode,{children:[Object(r.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.6.0/dist/leaflet.css",integrity:"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==",crossOrigin:""}),Object(r.jsx)(Z,{})]}),document.getElementById("root")),$()},60:function(e,t,n){}},[[367,1,2]]]);
//# sourceMappingURL=main.23935e7a.chunk.js.map